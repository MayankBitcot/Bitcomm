from ragent.connectors.email_sender.base import EmailSender
from ragent.connectors.email_sender.providers import EmailProvider
from ragent.connectors.email_sender.providers.aws_sender import AwsEmailSender
from ragent.connectors.email_sender.providers.azure_sender import AzureEmailSender


class EmailSenderFactory:
    @staticmethod
    def get_email_sender(provider: EmailProvider, **kwargs) -> EmailSender:
        if provider == EmailProvider.AWS:
            return AwsEmailSender()
        elif provider == EmailProvider.AZURE:
            return AzureEmailSender(api_key=kwargs.get("api_key"))
        else:
            raise ValueError(
                f"Unsupported provider: {provider}. Available: {EmailProvider.values()}"
            )
